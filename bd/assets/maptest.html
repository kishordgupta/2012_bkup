
<!-- saved from url=(0049)http://www.inmensia.com/files/minesweeper1.0.html -->
<html><body><div class="webkit-line-gutter-backdrop"></div><table><tbody><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-doctype">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 //EN"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;html&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">&lt;!--</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment"><br></span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">  Se prohibe el uso total o parcial del contenido de este fichero con</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">  fines comerciales o no comerciales sin autorización previa del autor.</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">  </span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">  http://www.inmensia.com/juegos</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment"><br></span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">--&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;head&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;title&gt;</span>Minesweeper v1.0<span class="webkit-html-tag">&lt;/title&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;meta <span class="webkit-html-attribute-name">name</span>="<span class="webkit-html-attribute-value">keywords</span>" <span class="webkit-html-attribute-name">content</span>="<span class="webkit-html-attribute-value">games,free,juegos,javascript</span>" /&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/head&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;style&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">body {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  margin: 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  padding: 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  font-family: Arial;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  font-size: 12px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  color: #FFFFFF;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  background: #000000;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">.div-game {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  margin: 5% auto;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  width: 480px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  height: 420px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">.div-score {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  position: relative;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  top: 0px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  left: 0px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  height: 30px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  color: #000000;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  background: #C0C0C0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  border-top: 1px solid #FFFFFF;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  border-right: 1px solid #FFFFFF;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">.img-mines, .div-mines, .img-time, .img-smiley, .div-time, .lb-level, .bn-reset {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  position: absolute;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">.img-mines {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  top: 6px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  left: 10px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">.div-mines {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  top: 6px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  left: 30px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  width: 40px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  font-family: Verdana;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  font-size: 14px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  font-weight: bold;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  text-align: left;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  color: #0000CF;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  background: transparent;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">.img-time {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  top: 6px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  left: 80px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">.div-time {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  top: 6px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  left: 100px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  width: 60px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  font-family: Verdana;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  font-size: 14px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  font-weight: bold;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  text-align: left;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  color: #007F00;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  background: transparent;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">.img-smiley {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  top: 6px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  left: 240px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">.lb-level {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  top: 4px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  left: 330px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  width: 80px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  font-family: Arial;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  font-size: 12px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">.bn-reset {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  top: 3px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  left: 420px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  width: 50px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  font-family: Arial;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  font-size: 12px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  text-align: center;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">.div-board {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  position: relative;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  width: 480px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  height: 320px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  color: #000000;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  background: #7F7F7F;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  border-top: 1px solid #000000;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  border-bottom: 1px solid #FFFFFF;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  border-left: 1px solid #FFFFFF;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">.cell {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  position: absolute;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  overflow: hidden;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">.div-adsense {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  position: relative;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  width: 100%;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  height: 60px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  text-align: center;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">.div-addfreestats {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  position: absolute;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  left: 0px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  top: 0px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  display: none; </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/style&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;body&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">div-game</span>" <span class="webkit-html-attribute-name">class</span>="<span class="webkit-html-attribute-value">div-game</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">div-score</span>" <span class="webkit-html-attribute-name">class</span>="<span class="webkit-html-attribute-value">div-score</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;img <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">img-mines</span>" <span class="webkit-html-attribute-name">class</span>="<span class="webkit-html-attribute-value">img-mines</span>" <span class="webkit-html-attribute-name">src</span>="<a class="webkit-html-attribute-value webkit-html-resource-link" target="_blank" href="http://www.inmensia.com/files/pictures/juegos/minesweeper/mines.png">pictures/juegos/minesweeper/mines.png</a>" /&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">div-mines</span>" <span class="webkit-html-attribute-name">class</span>="<span class="webkit-html-attribute-value">div-mines</span>"&gt;</span><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;img <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">img-time</span>" <span class="webkit-html-attribute-name">class</span>="<span class="webkit-html-attribute-value">img-time</span>" <span class="webkit-html-attribute-name">src</span>="<a class="webkit-html-attribute-value webkit-html-resource-link" target="_blank" href="http://www.inmensia.com/files/pictures/juegos/minesweeper/clock.png">pictures/juegos/minesweeper/clock.png</a>" /&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">div-time</span>" <span class="webkit-html-attribute-name">class</span>="<span class="webkit-html-attribute-value">div-time</span>"&gt;</span>00:00<span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;img <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">img-smiley</span>" <span class="webkit-html-attribute-name">class</span>="<span class="webkit-html-attribute-value">img-smiley</span>" /&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;select <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">lb-level</span>" <span class="webkit-html-attribute-name">class</span>="<span class="webkit-html-attribute-value">lb-level</span>" <span class="webkit-html-attribute-name">onchange</span>="<span class="webkit-html-attribute-value">game.restart()</span>" <span class="webkit-html-attribute-name">name</span>="<span class="webkit-html-attribute-value">bn-reset</span>"/&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;option <span class="webkit-html-attribute-name">selected</span> <span class="webkit-html-attribute-name">value</span>="<span class="webkit-html-attribute-value">easy</span>"&gt;</span>Easy<span class="webkit-html-tag">&lt;/option&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;option <span class="webkit-html-attribute-name">value</span>="<span class="webkit-html-attribute-value">normal</span>"&gt;</span>Normal<span class="webkit-html-tag">&lt;/option&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;option <span class="webkit-html-attribute-name">value</span>="<span class="webkit-html-attribute-value">advanced</span>"&gt;</span>Advanced<span class="webkit-html-tag">&lt;/option&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;option <span class="webkit-html-attribute-name">value</span>="<span class="webkit-html-attribute-value">hard</span>"&gt;</span>Hard<span class="webkit-html-tag">&lt;/option&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;option <span class="webkit-html-attribute-name">value</span>="<span class="webkit-html-attribute-value">expert</span>"&gt;</span>Expert<span class="webkit-html-tag">&lt;/option&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/select&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;input <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">bn-reset</span>" <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">button</span>" <span class="webkit-html-attribute-name">class</span>="<span class="webkit-html-attribute-value">bn-reset</span>" <span class="webkit-html-attribute-name">onclick</span>="<span class="webkit-html-attribute-value">game.restart()</span>" <span class="webkit-html-attribute-name">value</span>="<span class="webkit-html-attribute-value">Play!</span>" <span class="webkit-html-attribute-name">name</span>="<span class="webkit-html-attribute-value">bn-reset</span>"/&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">div-board</span>" <span class="webkit-html-attribute-name">class</span>="<span class="webkit-html-attribute-value">div-board</span>"&gt;</span><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">div-adsense</span>" <span class="webkit-html-attribute-name">class</span>="<span class="webkit-html-attribute-value">div-adsense</span>"&gt;</span><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;script <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/javascript</span>"&gt;</span>&lt;!--</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">google_ad_client = "pub-8877985832405486";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">google_alternate_color = "000000";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">google_ad_width = 468;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">google_ad_height = 60;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">google_ad_format = "468x60_as";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">google_ad_type = "text_image";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">google_ad_channel ="9180670588";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">google_color_border = "000000";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">google_color_bg = "000000";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">google_color_link = "FFFF00";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">google_color_url = "FFFFFF";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">google_color_text = "FFFFFF";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">//--&gt;<span class="webkit-html-tag">&lt;/script&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;script <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/javascript</span>"</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-attribute-name">src</span>="<a class="webkit-html-attribute-value webkit-html-resource-link" target="_blank" href="http://pagead2.googlesyndication.com/pagead/show_ads.js">http://pagead2.googlesyndication.com/pagead/show_ads.js</a>"&gt;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/script&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">div-addfreestats</span>" <span class="webkit-html-attribute-name">class</span>="<span class="webkit-html-attribute-value">div-addfreestats</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">&lt;!-- ADDFREESTATS.COM AUTOCODE V4.0 --&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;script <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/javascript</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">&lt;!--</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">var AFS_Account="00705080";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">var AFS_Tracker="auto";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">var AFS_Server="www7";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">var AFS_Page="DetectName";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">var AFS_Url="DetectUrl";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// --&gt;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/script&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;script <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/javascript</span>" <span class="webkit-html-attribute-name">src</span>="<a class="webkit-html-attribute-value webkit-html-resource-link" target="_blank" href="http://www7.addfreestats.com/cgi-bin/afstrack.cgi?usr=00705080">http://www7.addfreestats.com/cgi-bin/afstrack.cgi?usr=00705080</a>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/script&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;noscript&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">&lt;a href="http://www.addfreestats.com" &gt;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">&lt;img src="http://www7.addfreestats.com/cgi-bin/connect.cgi?usr=00705080Pauto" border=0 title="AddFreeStats.com Free Web Stats!"&gt;&lt;/a&gt;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/noscript&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">&lt;!-- ENDADDFREESTATS.COM AUTOCODE V4.0  --&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">style</span>="<span class="webkit-html-attribute-value">display:none;</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;SCRIPT <span class="webkit-html-attribute-name">type</span>='<span class="webkit-html-attribute-value">text/javascript</span>' <span class="webkit-html-attribute-name">language</span>='<span class="webkit-html-attribute-value">JavaScript</span>' <span class="webkit-html-attribute-name">src</span>='<a class="webkit-html-attribute-value webkit-html-resource-link" target="_blank" href="http://xslt.alexa.com/site_stats/js/t/a?url=www.inmensia.com">http://xslt.alexa.com/site_stats/js/t/a?url=www.inmensia.com</a>'&gt;</span><span class="webkit-html-tag">&lt;/SCRIPT&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;script <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/javascript</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">//</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// Game</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">//</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">function Game() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  var self = this;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.board     = new Board();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.startTime = null;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.run = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.start();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.start = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.hideSmiley();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.createBoard();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.registerMouse();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.startTimer();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.updateScore();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.restart = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.board.destroyImgs();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.start();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.onMouseDown = function(e) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    var img = getMouseObject(e);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if ( self.board.isCell(img) ){</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      if ( getMouseButton(e) == 1)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">        self.onLeftClick(img.mRow, img.mCol);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      else</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">        self.onRightClick(img.mRow, img.mCol);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.updateScore();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    return(false);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.onLeftClick = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if ( self.board.isFlag(row, col) )</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      return;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if ( self.board.isMine(row, col) ) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      self.looseGame(row, col);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      return;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.board.flip(row, col);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if (0 == self.board.downs)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      self.winGame();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.onRightClick = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if ( self.board.isDown(row, col) )</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      return;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.board.changeState(row, col);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if (self.board.flags == self.board.mines)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      self.tryWinGame();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.tryWinGame = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if ( self.board.testFlags() )</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      self.winGame();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.winGame = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.showSmiley("happy");</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.board.showFlags();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.endGame();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.looseGame = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.showSmiley("sad");</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.board.showMines(row, col);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.endGame();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.endGame = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.stopTimer();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.unregisterMouse();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.updateScore = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    document.getElementById("div-mines").innerHTML = String(self.board.mines - self.board.flags);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.showSmiley = function(pic) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    var img = document.getElementById("img-smiley");</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    img.src = self.board.getImgSrc(pic);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    img.style.visibility = "visible";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.hideSmiley = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    document.getElementById("img-smiley").style.visibility = "hidden";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.startTimer = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.startTime = new Date().getTime();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.timer();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.stopTimer = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.startTime = null;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.timer = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if (self.startTime) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      var diff = Math.floor( ( new Date().getTime() - self.startTime) / 1000);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      var mins = "0" + String( Math.floor(diff / 60) );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      var secs = "0" + String(diff % 60);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      document.getElementById("div-time").innerHTML = </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		mins.substring(mins.length - 2) + ":" + secs.substring(secs.length - 2);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      setTimeout(self.timer, 1000);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.registerMouse = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.board.div.onmousedown   = self.onMouseDown;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.board.div.onclick       = function(){return false;};</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.board.div.ondblclick    = function(){return false;};</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.board.div.oncontextmenu = function(){return false;};</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.unregisterMouse = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.board.div.onmousedown = null;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.createBoard = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">     switch( document.getElementById("lb-level").value ) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">       case "easy"    : self.board.create(10, 10,  10); break;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">       case "normal"  : self.board.create(15, 15,  25); break;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">       case "advanced": self.board.create(20, 20,  50); break;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">       case "hard"    : self.board.create(20, 25, 100); break;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">       case "expert"  : self.board.create(20, 30, 150); break;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">     }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">//</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// Board</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">//</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">function Board() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  var self = this;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.div = document.getElementById("div-board");</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.cells = null;  </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.rows  = 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.cols  = 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.mines = 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.downs = 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.flags = 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.imgClass  = "cell";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.imgWidth  = 16;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.imgHeight = 16;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.imgURL    = "pictures/juegos/minesweeper/";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.imgExt    = ".png";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.create = function(rows, cols, mines) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.cells = null;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.rows  = rows;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.cols  = cols;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.mines = mines;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.downs = (self.rows * self.cols) - self.mines;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.flags = 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.createCells();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.putMines();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.createImgs();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.createCells = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.cells = new Array(self.rows);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    for (var row = 0; row != self.rows; ++ row) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      self.cells[row] = new Array(self.cols);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      for (var col = 0; col != self.cols; ++ col)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">        self.cells[row][col] = new Cell();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">     }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.putMines = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    for (var mine = 0; mine != self.mines; ++ mine)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      self.putRandMine();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.putRandMine = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    var row, col;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    do{</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      row = rand(self.rows);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      col = rand(self.cols);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    }while( self.isMine(row, col) );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.putMine(row, col);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.roundMine(row, col);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.putMine = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.cells[row][col].value = 'm';</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.roundMine = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    for (var r = Math.max(row - 1, 0); r &lt;= Math.min(row + 1, self.rows - 1); ++ r)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      for (var c = Math.max(col - 1, 0); c &lt;= Math.min(col + 1, self.cols - 1); ++ c)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">        if ( self.isMine(r, c) == false)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">          ++ self.cells[r][c].value;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.createImgs = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    for (var row = 0; row != self.rows; ++ row)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      for (var col = 0; col != self.cols; ++ col)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">        this.createImg(row, col);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.createImg = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    var img = document.createElement("img");</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    img.id           = self.getImgId(row, col);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    img.className    = self.imgClass;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    img.style.width  = String(self.imgWidth)  + "px";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    img.style.height = String(self.imgHeight) + "px";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    img.style.top    = String( Math.floor( ( (340 - self.imgHeight * self.rows) / 2) + (row * (self.imgHeight - 1) ) ) ) + "px";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    img.style.left   = String( Math.floor( ( (510 - self.imgWidth  * self.cols) / 2) + (col * (self.imgWidth  - 1) ) ) ) + "px";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    img.src          = self.getImgSrc("up");</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    img.mRow         = row;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    img.mCol         = col;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.div.appendChild(img);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.destroyImgs = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    for (var row = 0; row != self.rows; ++ row)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      for (var col = 0; col != self.cols; ++ col)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">        self.destroyImg(row, col);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.destroyImg = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.div.removeChild( document.getElementById( self.getImgId(row, col) ) );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.flip = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if ( self.isDown(row, col) )</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      return;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if ( self.isFlag(row, col) )</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      return;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.flipCell(row, col);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if ( self.isHole(row, col) )</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      self.roundFlip(row, col);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.flipCell = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.getImgElement(row, col).src = self.getImgSrc( self.cells[row][col].value );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.cells[row][col].state = "down";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    -- self.downs;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.roundFlip = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    var left  = (col &gt; 0);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    var right = (col &lt; self.cols - 1);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if (row &gt; 0) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      if (left) self.flip(row - 1, col - 1);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      self.flip(row - 1, col);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      if (right) self.flip(row - 1, col + 1);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if (left) self.flip(row, col - 1);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if (right) self.flip(row, col + 1);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if (row &lt; self.rows - 1) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      if (left) self.flip(row + 1, col - 1);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      self.flip(row + 1, col);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      if (right) self.flip(row + 1, col + 1);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.changeState = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    var change = self.getNextState(row, col);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if ( ("flag" == change) &amp;&amp; (self.flags == self.mines) )</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      return;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if ("flag" == change)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      ++ self.flags;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if ("question" == change)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      -- self.flags;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.getImgElement(row, col).src = self.getImgSrc(change);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.cells[row][col].state = change;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.getNextState = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    switch( self.cells[row][col].state ){</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      case "up"      : return("flag");</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      case "flag"    : return("question");</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      case "question": return("up");</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.testFlags = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    for (var row = 0; row != self.rows; ++ row)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      for (var col = 0; col != self.cols; ++ col)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">        if ( self.isFlag(row, col) &amp;&amp; ( self.isMine(row, col) == false ) )</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">          return(false);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    return(true);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.showMines = function(rowBoom, colBoom) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    for (var row = 0; row != self.rows; ++ row)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      for (var col = 0; col != self.cols; ++ col)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">        if ( self.isMine(row, col) || self.isFlag(row, col) )</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">          self.showMine(row, col, rowBoom, colBoom);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.showMine = function(row, col, rowBoom, colBoom) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    var pic = "mine";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if ( self.isFlag(row, col) )</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">       pic = self.isMine(row, col)? "flag" : "cross";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    if ( (row == rowBoom) &amp;&amp; (col == colBoom) )</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      pic = "boom";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    self.getImgElement(row, col).src = self.getImgSrc(pic);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.showFlags = function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    for (var row = 0; row != self.rows; ++ row)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      for (var col = 0; col != self.cols; ++ col)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">        if ( self.isMine(row, col) &amp;&amp; ( self.isFlag(row, col) == false) ){</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">          self.getImgElement(row, col).src = self.getImgSrc("flag");</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">          ++ self.flags;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">        }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.isMine = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    return( 'm' == self.cells[row][col].value );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.isHole = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    return( 0 == self.cells[row][col].value );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.isFlag = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    return( 'flag' == self.cells[row][col].state );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.isDown = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    return( 'down' == self.cells[row][col].state );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.isCell = function(img) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    return(img.className == self.imgClass);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.getImgElement = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    return( document.getElementById( self.getImgId(row, col) ) );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.getImgId = function(row, col) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    return( self.imgClass + String( (row * self.cols) + col) );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.getImgSrc = function(pic) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    return(  self.imgURL + pic + self.imgExt );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">//</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// Cell</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">//</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">function Cell() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.value = 0;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  this.state = 'up';</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">//</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// Utils</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">//</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">function rand(x) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  return( Math.floor( Math.random() * x ) );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">function getMouseObject(e) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  return(e? e.target: window.event.srcElement);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">function getMouseButton(e) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  return(e? e.which: window.event.button);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">//</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// Instance and start Game</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">//</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">var game = new Game();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">game.run();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/script&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;script <span class="webkit-html-attribute-name">src</span>="<a class="webkit-html-attribute-value webkit-html-resource-link" target="_blank" href="http://www.google-analytics.com/urchin.js">http://www.google-analytics.com/urchin.js</a>" <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/javascript</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/script&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;script <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/javascript</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">_uacct = "UA-276332-1";</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">urchinTracker();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/script&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/body&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/html&gt;</span></td></tr></tbody></table></body></html>